{"version":3,"sources":["panels/Home.js","panels/Spiner.js","panels/AddPostEnd.js","App.js","index.js","img/default_img.PNG"],"names":["Home","id","props","go","fetchedUser","title","top","name","value","innquiryInfo","field1","onChange","сhangeForms","type","placeholder","field2","field3","field4","accept","isReady","male","className","src","imageUrl","img","alt","size","onClick","sendForms","disabled","level","Spiner","style","display","alignItems","flexDirection","marginTop","AddPostEnd","token","group_id","defaultPhoto","postPhotoUrl","connect","send","savePhoto","server","photos_list","hash","App","e","setState","activePanel","currentTarget","dataset","to","createPoll","answers","state","createMessage","message","poll","photo","attachments","guid","Math","floor","random","file","files","reader","FileReader","onloadend","result","readAsDataURL","imgForMessage","postSendId","subscribe","detail","data","sex","request_id","response","upload_url","url","formData","FormData","append","fetch","method","body","headers","then","json","catch","error","postPhoto","owner_id","post_id","console","log","this","length","React","Component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.185f2303.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, Button, Group, Div,  PanelHeader, Input, FormLayout} from '@vkontakte/vkui';\nimport File from \"@vkontakte/vkui/dist/components/File/File\";\nimport img from \"../img/default_img.PNG\"\n\nconst Home = ({ id, go, fetchedUser, ...props }) => {\n\treturn (\n\t\t<Panel id={id}>\n\t\t<PanelHeader>Найти потеряшку</PanelHeader>\n\t\t\t<Group>\n\t\t\t\t<Div>\n\t\t\t\t\tПосты с грамматическими ошибками или неполным описанием публиковаться не будут!\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t<Group title=\"Для отправки опроса заполните пожалуйста формы:\">\n\t\t\t<Div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t<Input  top=\"Кого ищешь?\" name=\"field1\" value={props.innquiryInfo.field1} onChange={props.сhangeForms} type=\"text\" placeholder=\"Кого ищешь?\"/>\n\t\t\t\t\t\t\t<Input  top=\"Время встречи\" name=\"field2\" value={props.innquiryInfo.field2}  onChange={props.сhangeForms}  type=\"text\" placeholder=\"Время встречи\"/>\n\t\t\t\t\t\t\t<Input  top=\"Где встретились\" name=\"field3\"value={props.innquiryInfo.field3}   onChange={props.сhangeForms}  type=\"text\" placeholder=\"Где встретились\"/>\n\t\t\t\t\t\t\t<Input  top=\"Приметы, одежда\" name=\"field4\" value={props.innquiryInfo.field4}  onChange={props.сhangeForms}  type=\"text\" placeholder=\"Приметы, одежда\"/>\n\t\t\t\t\t\t\t<File  top=\"Прикрепить фото (необязательно):\" onChange={props.сhangeForms} name=\"file\"  type=\"file\" placeholder=\"Прикрепить фото\" accept=\"image/*\" />\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t</div>\n\t\t\t\t\t{props.innquiryInfo.isReady ? <Div>Ищу {props.innquiryInfo.field1}. {props.innquiryInfo.field2} встретились {props.innquiryInfo.field3}. {props.innquiryInfo.field4}. {props.innquiryInfo.male ? \"Понравилась\" : \"Понравился\"},\n                        отзовись <div><img className=\"imgFormat\" src={props.innquiryInfo.imageUrl || img} alt={\"img\"}/></div></Div> : <div/>}\n\n\t\t\t\t</div>\n\t\t\t\t{props.innquiryInfo.isReady ? <Button size=\"xl\" onClick={props.sendForms}>Отправить новость</Button> : <Button size=\"xl\" disabled level=\"2\">Отправить новость</Button> }\n\n\t\t\t</Div>\n\t\t</Group>\n\t</Panel>)\n};\n\n\n\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tsendForms: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\nimport {Panel, PanelHeader} from '@vkontakte/vkui';\nimport Spinner from \"@vkontakte/vkui/dist/components/Spinner/Spinner\";\nimport PropTypes from 'prop-types';\n\n\nconst Spiner = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader>Найти потеряшку</PanelHeader>\n\t\t<div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\n\t\t\t<Spinner size=\"large\" style={{ marginTop: 20 }} />\n\t\t</div>\n\t</Panel>\n);\n\nSpiner.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Spiner;\n","import React from 'react';\nimport {Panel, PanelHeader} from '@vkontakte/vkui';\nimport Spinner from \"@vkontakte/vkui/dist/components/Spinner/Spinner\";\nimport PropTypes from 'prop-types';\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\n\n\nconst AddPostEnd = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader>Найти потеряшку</PanelHeader>\n\t\t<Div>\n\t\t\t<h1>Ваш опрос успешно добавлен!</h1>\n\t\t</Div>\n\t</Panel>\n);\n\nAddPostEnd.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default AddPostEnd;\n","import React from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport {View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home';\nimport \"./App.css\"\nimport Spiner from \"./panels/Spiner\";\nimport AddPostEnd from \"./panels/AddPostEnd\";\n\n//личный токен админа группы\nconst token = \"8562720b7714ff2af73756a192b2b17d934eff7232f8e4110d614ba8277416eab25f57e933f84f7fa404b\";\n\n//id альбома для загрузки фотографий\nconst album_id = \"269063524\";\n\n//id группы с которой работаем\nconst group_id = \"186665203\";\n\n//картинка по умлочанию должна находиться уже в альбоме группы, при открытии фотки данные можно взять со строки адреса в формате как приведенно ниже\nconst defaultPhoto = \"photo-186665203_457239019\";\n\n\n\n//получение ссылки на загрузку фотки\nconst postPhotoUrl = () => {\n\tconnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"photos.getUploadServer\", \"request_id\": \"photoUrl\", \"params\": {\"album_id\": album_id, \"group_id\": group_id,\n\t\t\t\"v\":\"5.101\", \"access_token\": token}});\n}\n\nconst postPhoto = (url, photo) => {\n\tlet formData = new FormData();\n\tformData.append('photo', photo);\n\tconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n\tfetch(proxyurl+url, {\n\t\tmethod: 'POST',\n\t\tbody: formData,\n\t\theaders: {\n\t\t\t'Access-Control-Allow-Origin': '*'\n\t\t},\n\t})\n\t\t.then(function (response) {\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(function (data) {\n\t\t\tif (data) {\n\t\t\t\tdebugger\n\t\t\t\tsavePhoto(data.server, data.photos_list, data.hash);\n\t\t\t} else {\n\t\t\t\t// proccess server errors\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\t// proccess network errors\n\t\t});\n};\n\nconst savePhoto = (server, photos_list, hash) => {\n\tconnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"photos.save\", \"request_id\": \"photoSave\", \"params\": {\"album_id\": album_id, \"group_id\": group_id,\n\t\t\t\"server\": server, \"photos_list\": photos_list, \"hash\": hash, \"v\":\"5.101\", \"access_token\": token}});\n};\n\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t\tfield1: \"\",\n\t\t\tfield2: \"\",\n\t\t\tfield3: \"\",\n\t\t\tfield4: \"\",\n\t\t\timg : null,\n\t\t\timageUrl: null,\n\t\t\tisReady: false,\n\t\t\tmale: true,\n\t\t\timgForMessage: defaultPhoto,\n\t\t\tpostSendId: 0,\n\t\t\tpoll: \"\"\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tif (e.detail.data.sex === 1) {\n\t\t\t\t\t\tthis.setState({ male: false });\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppCallAPIMethodResult':\n                    switch (e.detail.data.request_id){\n                        case 'photoUrl':\n                            this.setState({imageUrl: e.detail.data.response.upload_url});\n                            postPhoto(e.detail.data.response.upload_url, this.state.img);\n                            break;\n                        case 'photoSave':\n\t\t\t\t\t\t\tthis.setState({imgForMessage: `photo${e.detail.data.response[0].owner_id}_${e.detail.data.response[0].id}`});\n\t\t\t\t\t\t\tthis.createPoll();\n                            break;\n                        case 'isCreatePoll':\n\t\t\t\t\t\t\tthis.setState({poll: `poll${e.detail.data.response.owner_id}_${e.detail.data.response.id}`});\n\t\t\t\t\t\t\tlet message = `Ищу ${this.state.field1}. ${this.state.field2} встретились ${this.state.field3}. ${this.state.field4}. ${this.state.male ? \"Понравилась\" : \"Понравился\"}, отзовись`;\n\t\t\t\t\t\t\tlet photo = this.state.imgForMessage;\n\t\t\t\t\t\t\tthis.createMessage(message, this.state.poll, photo);\n                            break;\n                        case 'sendWall':\n\t\t\t\t\t\t\tthis.setState({postSendId: e.detail.data.response.post_id, field1: \"\",\n\t\t\t\t\t\t\t\tfield2: \"\",\tfield3: \"\",\tfield4: \"\",\timg : null, activePanel: \"addpost\"});\n                            break;\n                        default:\n                            console.log(e);\n                    }\n                        console.log(e);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.isReady === false && this.state.field1.length > 0 && this.state.field2.length > 0 && this.state.field3.length > 0 && this.state.field4.length > 0) {\n\t\t\tthis.setState({isReady: true})\n\t\t}\n\t\tif (this.state.isReady === true && this.state.field1.length === 0 && this.state.field2.length === 0 && this.state.field3.length === 0 && this.state.field4.length === 0) {\n\t\t\tthis.setState({isReady: false})\n\t\t}\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\tcreatePoll = () => {\n\t\tlet answers = this.state.name ?  '[\"Возможно это я\",\"Пиши, я ее знаю\",\"Посмотреть результаты\"]' : '[\"Возможно это я\",\"Пиши, я его знаю\",\"Посмотреть результаты\"]';\n\t\tconnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"polls.create\", \"request_id\": \"isCreatePoll\", \"params\": {\"question\": \"Хелп\", \"is_anonymous\": \"0\",\n\t\t\t\t\"is_multiple\": \"0\", \"owner_id\": \"-185650440\", \"add_answers\": answers, \"v\":\"5.101\", \"access_token\": token}});\n\t};\n\n    createMessage = (message,poll, photo) => {\n        let attachments = `${photo}, ${poll}`;\n        //сгенерированный guid\n        let guid = Math.floor(1000000000 + Math.random() * (9000000000 + 1 - 1000000000));\n\t\t// let data = +new Date();\n\t\t// let postData = Math.round(data/1000)+86400; \"publish_date\": +postData,\n\n\t\t\tconnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"wall.post\", \"request_id\": \"sendWall\", \"params\": {\"owner_id\": `-${group_id}`, \"from_group\": \"1\",\n                \"signed\": \"0\", \"message\": message, \"attachments\": attachments, \"guid\": guid, \"v\":\"5.101\", \"access_token\": token}});\n    }\n\n\tsendForms = () => {\n    \tthis.setState({ activePanel: \"spinner\" })\n\t\tif (this.state.img === null) {\n\t\t\tthis.createPoll();\n\t\t} else {\n\t\t\tpostPhotoUrl()\n\t\t}\n\t};\n\n\tсhangeForms = (e) => {\n\t\tswitch (e.currentTarget.name) {\n\t\t\tcase 'file':\n\t\t\t\tconst file    = e.currentTarget.files[0];\n\t\t\t\tconst reader  = new FileReader();\n\t\t\t\treader.onloadend = () => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\timageUrl: reader.result\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (file) {\n\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\timageUrl :reader.result\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\timageUrl: \"\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.setState({img: e.currentTarget.files[0]});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.setState({[e.currentTarget.name]: e.currentTarget.value});\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t<Home id=\"home\" fetchedUser={this.state.fetchedUser} innquiryInfo={this.state} сhangeForms={this.сhangeForms} go={this.go}\n\t\t\t\t\t  sendForms={this.sendForms}/>\n\t\t\t\t<Spiner id=\"spinner\" fetchedUser={this.state.fetchedUser} innquiryInfo={this.state} go={this.go}/>\n\t\t\t\t<AddPostEnd id=\"addpost\" fetchedUser={this.state.fetchedUser} innquiryInfo={this.state} go={this.go}/>\n\n\t\t\t</View>\n\t\t);\n\t}\n}\n\n\n\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/default_img.ec5260f4.PNG\";"],"sourceRoot":""}